<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock, Paper, Scissors</title>
  </head>
  <body>
    <script type="text/javascript">
      let wins = 0;
      let losses = 0;
      let ties = 0;

      computerChoices = ["r", "p", "s"];

      //Randomizes the computer's choice
      function shuffle(array) {
        var currentIndex = array.length,
          temporaryValue,
          randomIndex;

        // While there remain elements to shuffle...
        while (0 !== currentIndex) {
          // Pick a remaining element...
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex -= 1;

          // And swap it with the current element.
          temporaryValue = array[currentIndex];
          array[currentIndex] = array[randomIndex];
          array[randomIndex] = temporaryValue;
        }

        return array;
      }

      for (let i = 0; i < 10; i++) {
        shuffle(computerChoices);
        let userChoice = prompt("Enter r, p, or s");
        userChoice = userChoice.toLowerCase();
        if (userChoice === "r" || userChoice === "s" || userChoice === "p") {
          if (
            (userChoice === "r" && computerChoices[0] === "s") ||
            (userChoice === "s" && computerChoices[0] === "p") ||
            (userChoice === "p" && computerChoices[0] === "r")
          ) {
            wins++;
            alert(`The computer chose ${computerChoices[0]}`);
            alert("You've won " + wins + " time(s)!");
          } else if (userChoice === computerChoices[0]) {
            ties++;
            alert(`The computer chose ${computerChoices[0]}`);
            alert("You've tied " + ties + " time(s).");
          } else {
            losses++;
            alert(`The computer chose ${computerChoices[0]}`);
            alert("You've lost " + losses + " time(s).");
          }
        } else {
          alert("Please enter either r, s, or p");
        }
      }
      alert(
        "Total wins: " +
          wins +
          "\nTotal ties: " +
          ties +
          "\nTotal losses: " +
          losses
      );
    </script>
  </body>
</html>
